!function(){"use strict";function e(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function r(a){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,n;e=a,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(o,t))})}return a}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,a=arguments[e];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function s(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var n,i=[],p=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","subs-stage.washingtonpost.com","localhost","localhost.digitalink.com","localhost.washingtonpost.com","subscribe.digitalink.com",".*.preview.now.washingtonpost.com"],t={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}};function l(t){for(var e=!1,n=0;n<p.length;n+=1){var a=new RegExp(p[n]);if(t.match(a)){e=!0;break}}return e}function g(){if(void 0!==n)return n;try{var t=(new Date).toString();window.localStorage.setItem(t,t);var e=window.localStorage.getItem(t)===t;return window.localStorage.removeItem(t),n=e}catch(t){return void(n=!1)}}function m(t){if(!t)return null;if(!document.cookie)return null;for(var e,n,a=null,o=document.cookie.split(";"),i=0;i<o.length;i++)0<o[i].indexOf("=")&&(n=(e=o[i].split("="))[0],e=e[1],(n=n&&n.trim())===t&&(a=(e=e||"").trim()),e.trim());return a}function f(t,e,n,a,o,i){var s="",r="",c=".washingtonpost.com",o=!1===o?"":";secure";n<0?s=";expires=".concat(new Date(1e3).toUTCString):0<n&&(s=";expires=".concat(new Date(n).toUTCString())),null!=(c="qa"===i?".digitalink.com":c)&&(r=";domain=".concat(c)),e=e||"";e=a?e:encodeURIComponent(e),o="".concat(t,"=").concat(e,";path=/").concat(s).concat(r).concat(o);document.cookie=o}function u(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return;return 1}function h(t,e,n){g()&&!u(e)&&l(window.location.hostname)&&(e.e=Date.now()+(n||0),localStorage.setItem(t,JSON.stringify(e)))}function w(e,o,i,s){return o=o||"GET",i=i&&JSON.stringify(i)||null,new Promise(function(n,a){var t=new XMLHttpRequest;t.open(o,e,!0),t.timeout=3e3,t.withCredentials=!0,s&&s.contentType&&t.setRequestHeader("Content-Type",s.contentType),t.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,n(e)}catch(t){a("")}}else 400<=t.status&&a({message:t.status})},t.onerror=function(t){a("")},t.ontimeout=function(){a("")},t.send(i)})}var d="wapo_identity",y="wapo_secure_login_id",S="wp_usp",v="privacySetting",b={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},_={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function O(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("subs-stage")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("sandbox.wash")||-1!==window.location.hostname.indexOf("subs-stage")||-1!==window.location.hostname.indexOf("preview.now.washingtonpost.com")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function x(){return _[O()]}function k(t){var e,n,n=(e="utm_medium",n=n||window.location.href,e=e.replace(/[\[\]]/g,"\\$&"),(n=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")).exec(n))?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null);n&&(t.tetro_utm=n)}var C={},T=window.performance&&window.performance.timing||{},P=(new Date).getTime(),D={};function I(t){c(D,t),window.pwapiPaywallResponse=D;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](D);for(var n=0;n<window.consumers.length;n++)window.consumers[n](D)}function A(t,e){for(var n=e.split("."),a=0,o=n.length;null!=t&&a<o;)t=t[n[a++]];return a&&a===o?t:void 0}var E=(new Date).getTime();function N(t,e,n){var a,o=x();switch(n=n||{},e=e||"",t){case"info":a="logInfo";break;case"success":a="logSuccess";break;case"error":a="logHandledError";break;case"expectedError":a="logExpectedError";break;default:a="logInfo"}o=o.feLoggingApi;try{var i=new XMLHttpRequest;i.open("POST",o+a,!0),i.setRequestHeader("Content-Type","application/json"),n.processId=E,n.path=window.location.pathname;var s={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:n};i.withCredentials=!0,i.send(JSON.stringify(s)),i.onload=function(){},i.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function Q(t){var a;(t=t||{}).referrer=document.referrer,c(t,(a={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,n){0<=i.indexOf(e)&&(a[e]=n)}),a));var e,n,o="";for(e in t)t.hasOwnProperty(e)&&("string"==typeof(n=t[e])&&""!==n&&(o+="".concat(e,"=").concat(encodeURIComponent(n.trim()),"&")));return o}function U(i){var s=x()||{};return new Promise(function(e,t){var n,a,o={entitlements:i};if(n=document.cookie.match(/wapo_login_id=([^\;]*)/),a=document.cookie.match(/wapo_secure_login_id=([^\;]*)/),null!=n&&null!=n[1]&&null!=a&&null!=a[1])return e({status:"NOT_CHECKED",systemMessages:"User logged in"});w(s.checkEntitlementUrl,"POST",o,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(t){t={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};e(t)})})}function j(t,e){var n,a,o,i;e&&""!==e&&(n=e.split(","),i=[],o=[],a={fusion:{metadata:"wpMetaData",content_type:"content_type",ct_tags:"ct_tags",sct_tags:"sct_tags"},classic:{metadata:"wp_meta_data",content_type:"contentType",ct_tags:"tags_for_paywall",sct_tags:"tags_for_paywall_subs"}}[C.name],o=(e=window[a.metadata]||{})[t=a[t]]&&e[t].split(",")||[],i=[].concat(s(o),s(n)),e[t]=i.join(","),window[a.metadata]=e)}function L(t){var e,n,a,o,i=t.actionCodes;e=i,a=!1,n=m("wp_dbg_ent"),(a=0<=e.toString().indexOf("23")||null!=n||a)&&j("sct_tags","subs_enterprise"),3!==t.action&&6!==t.action||!((a=t)&&a.userAttributes&&a.userAttributes.isTerminated)||j("ct_tags","subs_terminated"),3!==t.action&&6!==t.action||!((o=t)&&o.isSignedIn||!1)||j("ct_tags","subs_signedin"),0<t.action&&((o=t)&&o.isSubscriber||!1)&&j("sct_tags","subs_subscriber"),0<t.action&&j("ct_tags",i.filter(function(t){return-1<t.indexOf("w_")}).join(",")),t=!1,i=m("scroll0"),(t=null!=i&&0<i.length||t)&&j("sct_tags","scroll0")}function R(t){return k(t),function(t){if(g()){var e=JSON.parse(localStorage.getItem("wapo_identity"));void 0!==(null==e?void 0:e.dob_source)&&(t.tetro_dob_source=e.dob_source)}}(t),t}var M=[{name:"wapo_login_id",expireOffsetMillis:36e5,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wapo_secure_login_id",expireOffsetMillis:36e5,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wp_ak_v_m",expireOffsetMillis:5184e6,cookiesToLocalStorage:!0,localStorageToCookies:!0,useDelimiter:!0,delimiterValue:"|",notEncoded:!0}];function J(t,e){var n,a,o;(n=document.createElement("script")).type="text/javascript",n.setAttribute("subscriptions-control","manual"),n.src="https://news.google.com/swg/js/v1/swg.js",n.onerror=function(){},document.head.appendChild(n),a=t,o=e,(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push(function(t){var e=!1,n={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{t.init("washingtonpost.com:basic"),t.getEntitlements().then(function(t){return t&&t.entitlements&&0<t.entitlements.length?(I({action:0,data:{action:0},status:"final"}),e=!0,n.numEntitlements=t.entitlements.length,n.pwresp_action=a,n.pwresp_action_final=0,n.pwresp_mtrct=o,n.raw_entitlements=JSON.stringify(t.entitlements),t.entitlements.forEach(function(t,e){0<=t.source.indexOf("washingtonpost.com")?(n.postSWGPurchase=!0,t.subscriptionToken?n["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):n["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements)):t.subscriptionToken&&(n.gglSWGPurchase=!0,t=JSON.parse(t.subscriptionToken),n["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(t.orderId,"|packageName=").concat(t.packageName,"|productId=").concat(t.productId,"|purchaseTime").concat(t.purchaseTime))})):I({status:"final"}),t}).then(function(t){e&&U(t.entitlements).then(function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),n.entitlement_status=e.join("|"),N("info","swg entitlements",n)})}).catch(function(){I({status:"final"})})}catch(t){I({status:"final"})}else I({status:"final"})}),setTimeout(function(){"final"!==D.status&&I({status:"final"})},5e3)}function G(t){var e=t;e.listeningTo="v2",e.data.action,e.data.actionCodes.join(","),e.data.meterCount,e.status="processing",window.pwapiPaywallStatus=200;var t=e.data.meterCount,n={3:"paywall",6:"softwall",9:"regwall"}[e.data.action],a=e.data.wallMeterType,o="";switch(n){case"paywall":o="".concat(a||"meter","_").concat(n),2===e.data.articleWeight&&(o="double_meter_".concat(n)),e.data.meterCount=o;break;case"softwall":case"regwall":a&&(e.data.meterCount="".concat(a,"_").concat(n))}return L(e.data),!function(){if(g()){var t,e=localStorage.getItem("wp_sponsored");return-1<window.location.search.indexOf("das=pw_spsrd_hit")||-1<window.location.search.indexOf("pw_unlock_mgclink")?(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState&&(t=(t=window.location.href).replace(/das=[^\&]*/,""),window.history.replaceState({},null,t)),1):!(!e||window.location.pathname!==e)}}()?3===e.data.action||8===e.data.action||9===e.data.action?J(e.data.action,t):e.status="final":(e.status="final",e.action=0,e.data.action=0),I(e),e}function q(t,e){t=t||{},e=e||"info",I({status:"error"});var n={process:"pwapiproxy-response",xhrstatus:t.statusCode};t.timeout&&(n.timeout=t.timeout),N(e,t.msg,n)}function V(t){var i,s,r,c,p,l,u,e=function(t,e){var n=1<arguments.length&&void 0!==e&&e,e=(document.cookie.match(/wp_pwapi=([^\;]*);/)||{})[1]||O();if(n){var a=_[e].pwapiProxyV2Api||_.prod.pwapiProxyV2Api;if([/^www-washingtonpost-com/].some(function(t){return t.test(window.location.hostname)})){n=document.createElement("a");return n.href=a,n.pathname}return a}return a=_[e].pwapiProxyApi||_.prod.pwapiProxyApi,e=window.location.pathname,t="".concat(Q(t),"&as_json=1"),"".concat(a+e,"?").concat(t)}(t,!0);Promise.all([(i=e,s=t,r="v2",c="POST",p=!0,l=5e3,u=[202,469,499],new Promise(function(n){var a,e=null,t=Q(s),o=window.location.href&&window.location.href.split("?")[0]||"",e=JSON.stringify({articles:[{article:"".concat(o,"?").concat(t)}]});try{i&&((a=new XMLHttpRequest).open(c,i),a.timeout=l,a.withCredentials=p,a.onload=function(){if(window["pwapi".concat(r,"Response")]=(new Date).getTime()-P,window["pwapiAPI".concat(r,"End")]=(new Date).getTime()-(T.navigationStart||0),a.readyState===XMLHttpRequest.DONE&&200===a.status){window["pwapiAPI".concat(r,"Ready")]=(new Date).getTime()-(T.navigationStart||0);var t={};try{(t=JSON.parse(a.response)).statusCode=a.status,G(t),n(t)}catch(t){var e={status:"error",statusCode:t.statusCode=-1,msg:"pwapiproxy response invalid".concat(t.statusText?" - ".concat(t.statusText):"")};q(e,"error"),n(e)}}else a.readyState===XMLHttpRequest.DONE&&-1<u.indexOf(a.status)?n({status:"error",msg:"ignored status code"}):(q(e={status:"error",statusCode:a.status,msg:"pwapiproxy invalid status code"},"error"),n(e))},a.onerror=function(t){window["pwapiAPI".concat(r,"End")]=(new Date).getTime()-(T.navigationStart||0);t={status:"error",statusCode:t&&t.statusCode?t.statusCode:500,msg:"pwapiproxy error"};q(t,"error"),n(t)},a.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-P)/1e3,msg:"PWAPIPROXY TIMEOUT"};q(t,"expectedError"),n(t)},a.setRequestHeader("Content-Type","application/json"),window["pwapiAPI".concat(r,"Start")]=(new Date).getTime()-(T.navigationStart||0),a.send(e))}catch(t){e={status:"error",statusCode:500};e.msg="pwapiproxy error".concat(t.message?" - ".concat(t.message):""),q(e,"error"),n(e)}}))]).catch(function(){})}window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[],D.status="init",window.registerPwapiConsumer=function(t){window.consumers.push(t),t(D)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(D)},window.extListener=function(t){I(t)};var H={};H.pwapi_contentsection=window.wp_section||A(window.TWP,"Data.Tracking.props.section"),H.pwapi_ct_tags=A(window.wp_meta_data,"tags_for_paywall"),H.pwapi_sct_tags=A(window.wp_meta_data,"tags_for_paywall_subs"),H.commercial_node=A(window.TWP,"Data.Tracking.props.commercial_node"),H.content_type=A(window.TWP,"Data.Tracking.props.content_type"),H.is_amp="0",H.env=window.renderingEnv||"";var Y,W=H,X=x()||{},$=(Y=X.env,t[Y]);function B(i){return new Promise(function(e,n){var t,a,o;"auth-status"===i?w("".concat(X.authStatusUrl,"?_v=").concat((new Date).getTime())).then(function(t){e(t)}).catch(function(t){n({status:"FAIL",errorState:"Auth Status failed"})}):"sip"===i?(t=z(),a=c(a={caller:"SubsStorageManager",requestId:(o=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^o.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})),authStatus:!0},t),w(X.sipUrl,"POST",a,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(){n("Auth Status failed")})):n("Invalid action: ".concat(i))})}function F(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function K(t){var e=m(y),t=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),t=$&&$[!!e?"signed":"anon"][t?"optedOut":"default"]||0;return Date.now()+t}function z(){var t,e,n=null;return g()&&localStorage.getItem(d)&&((e=!1,g()&&localStorage.getItem(d)&&((t=JSON.parse(localStorage.getItem(d))).e&&Date.now()>t.e&&(e=!0)),e)?g()&&localStorage.removeItem(d):n=JSON.parse(localStorage.getItem(d))),n}function Z(t){var e;g()&&l(window.location.hostname)&&(t=K((e=c(e=(e=localStorage.getItem(d))&&JSON.parse(e)||{},t)).privacySetting||{}),e.e=t,localStorage.setItem(d,JSON.stringify(e)))}function tt(t){if(g()&&localStorage.getItem(d))return JSON.parse(localStorage.getItem(d))[t]}function et(n){var t,e,a;return n=n||(t=m(y),e=m(S),!1===tt("signedIn")&&t?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(u(z())||t&&!e))&&"auth-status"),new Promise(function(t,e){!1!==n?B(n).then(function(t){t&&"SUCCESS"===t.status&&Z(a=t.userState)}).finally(function(){F(a=z()),t(a)}):(F(a=z()),t(a))})}function nt(){et()}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t(z())},window.updateIdentity=function(t){if(g()){var e=l(window.location.hostname),n=localStorage.getItem(d);if(e&&null!=n)try{var a=c(n=n&&JSON.parse(n)||{},t);localStorage.setItem(d,JSON.stringify(a))}catch(t){}}},window.storePrivacySetting=function(t){t="object"===a(t)?t:{};var e,n=tt(v)||{};n.ccpa=r(r(r({},b),n.ccpa),t.ccpa),u(n)||(e=m(y),t="".concat(n.ccpa.iabSpec,n.ccpa.explicitNotice,n.ccpa.optOut,n.ccpa.lspa),Z({privacySetting:n}),e?et("sip"):(e=O(),n=K(n),f(S,t,n,!0,!0,e)))};var at={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,e){var n,a,o="".concat(t,"---");g()&&localStorage.getItem(d)&&(n=tt("geoState"),navigator.globalPrivacyControl&&"CA"===n?o="1YYY":(a=tt(v))&&a.ccpa&&(o=at.getUspString(a.ccpa))),o&&((a={}).version=t,a.uspString=o,e(a,!0))},v1:{getUSPData:function(t){at.getUSPData(1,t)}}};window.addEventListener("message",function(n){var t,e;return n.data.hasOwnProperty("__uspapiCall")&&(n.stopImmediatePropagation&&n.stopImmediatePropagation(),t=n.data.__uspapiCall.command,e=n.data.__uspapiCall.version,t&&e&&window.__uspapi(t,e,function(t,e){e?n.source.postMessage({__uspapiReturn:{returnValue:t,success:e,callId:n.data.__uspapiCall.callId}},n.origin):n.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:n.data.__uspapiCall.callId}},n.origin)})),null},!1);function ot(){var i={status:"",readyDisplay:!1,hasProcessed:!1,displayGroup:"2"};(s=window.dQ||{}).hold=s.hold||[],window.dConsumers=window.dConsumers||[];var s=c(s,{displayable:{max:2,total:0,1:{concurrent_displayable:1},2:{concurrent_displayable:2}},status:"init",participantStatus:{iab_banner:{name:"iab_banner",status:"",readyDisplay:!1,hasProcessed:!1,displayGroup:"1",timeout:3e4},paywall:{name:"paywall",status:"",readyDisplay:!1,hasProcessed:!1,displayGroup:"1"},regwall:{name:"regwall",status:"",readyDisplay:!1,hasProcessed:!1,displayGroup:"1"},softwall:{name:"softwall",status:"",readyDisplay:!1,hasProcessed:!1,displayGroup:"2"}}}),t=["paywall","regwall","iab_banner","softwall"];for("1"!==(document.cookie.match("wp_ak_ot=(1)[^;]*(;|$)")?RegExp.$1:"")&&t.splice(2,1),s.participants=s.participants||t,window.dQ=s,window.registerDisplay=function(){var t=arguments.length<=0?void 0:arguments[0],e=t.participant,n=t.status,a=t.callback,o=t.info;(Array.isArray(e)?e:e.split()).forEach(function(t){var e=t;e&&(s.participantStatus[e]||(s.participantStatus[e]=r(r({name:e},i),{info:o}),s.participants.push(e))),e&&a?function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.participant,n=t.callback;window.dConsumers.push(t),n(window.dQ.participantStatus[e])}({participant:e,callback:a}):e&&n?(c(s.participantStatus[e],{info:o}),function(t,e){if(null!==(e=e.toLowerCase()).toLowerCase().match(/(ready|final|error)/)&&(!window.dQ.participantStatus[t]||"error"!==window.dQ.participantStatus[t].status)){"final"!==(window.dQ.participantStatus[t].status=e)&&"error"!==e||(window.dQ.participantStatus[t].readyDisplay=!1);t=window.dQ.participants.filter(function(t){return window.dQ.participantStatus[t]&&""===window.dQ.participantStatus[t].status});it&&console.log("still waiting on response from: ".concat(JSON.stringify(t)));var n=!0,a=window.dQ.participants.filter(function(t){t=window.dQ.participantStatus[t];return!!t&&("ready"!==t.status&&"final"!==t.status&&(n=!1),"ready"===t.status&&!1===t.readyDisplay&&!0===n)});if(it&&console.log("displayable queue: ".concat(JSON.stringify(a))),0<a.length){window.dQ.displayableGroup=window.dQ.participantStatus[a[0]]&&window.dQ.participantStatus[a[0]].displayGroup;for(var o=window.dQ.displayable[window.dQ.displayableGroup],i=window.dQ.participants.filter(function(t){t=window.dQ.participantStatus[t];return!!t&&("ready"===t.status&&t.displayGroup===window.dQ.displayableGroup)}),s=0;s<a.length;s+=1){var r=window.dQ.participantStatus[a[s]];r&&r.displayGroup===window.dQ.displayableGroup&&o.concurrent_displayable>=i.length&&window.dQ.displayable.total<=window.dQ.displayable.max&&(r.readyDisplay=!0,window.dQ.displayable.total+=1)}for(var c=0;c<window.dConsumers.length;c+=1){var p=window.dConsumers[c],l=p.participant,p=p.callback;0<=a.indexOf(l)&&p(window.dQ.participantStatus[l])}}it&&console.log(" Display Group: ".concat(window.dQ.displayableGroup,"\n\n        Total Displayed: ").concat(window.dQ.displayable.total,"\n\n        Max Displayable: ").concat(window.dQ.displayable.max,"\n\n        Current participantStatus queue: ").concat(JSON.stringify(window.dQ.participantStatus).replaceAll("},","},\n")))}}(e,n)):e&&o?(c(s.participantStatus[e],{info:o}),window.dConsumers.filter(function(t){return t.participant===e}).forEach(function(t){t.callback(s.participantStatus[t.participant])})):a||n||o||!e||(s.participantStatus[e]=r({name:e},i),s.participants.push(e))})};0<s.hold.length;){var e=s.hold.splice(0,1);window.registerDisplay(e[0])}}var it=window&&window.location&&-1<window.location.search.indexOf("debug=true")||!1;function st(){window.pwapiVersion="Version 1.14.5 on Wed, 03 Nov 2021 20:54:05 GMT",window.pwapiStart=P-(T.navigationStart||0),ot(),window.registerPwapiConsumer(function(t){"error"!==t.status&&0!==t.action||(window.registerDisplay({participant:"paywall",status:"final"}),window.registerDisplay({participant:"softwall",status:"final"}),window.registerDisplay({participant:"regwall",status:"final"}))}),R(W),V(W),window.dQ.participants.filter(function(t){return window.dQ.participantStatus[t]&&null!=window.dQ.participantStatus[t].timeout&&"ready"!==window.dQ.participantStatus[t].status}).forEach(function(t){t=window.dQ.participantStatus[t];setTimeout(function(t){"ready"!==window.dQ.participantStatus[t].status&&window.registerDisplay({participant:t,status:"final",info:{statusMsg:"timeout"}})},t.timeout,t.name)}),function(t){var e={},n={};if(g()){for(var a=0;a<M.length;a++){var o=M[a];try{var i=o.name,s=m(i),r=localStorage.getItem(i),c={};if(r)try{(c=JSON.parse(r)).e<(new Date).getTime()&&(c={},localStorage.removeItem(i))}catch(t){c={},localStorage.removeItem(i)}var p,l,u,w=null!=s,d=null!=c.v;d&&!w&&o.localStorageToCookies&&(f(i,c.v,c.e,o.notEncoded,!0,t),n[i]=c.v),!d&&w&&o.cookiesToLocalStorage&&h(i,{v:s},o.expireOffsetMillis),w&&d&&o.useDelimiter&&(p=o.delimiterValue||"|",l=s.split(p),u=c.v.split(p),o.cookiesToLocalStorage&&l&&u&&l[1]&&l[1]!==u[1]?h(i,{v:s},o.expireOffsetMillis):o.localStorageToCookies&&l&&u&&l[0]!==u[0]&&(!l[1]||l[1]===u[1])&&f(i,c.v,c.e||Date.now()+o.expireOffsetMillis,o.notEncoded,!0,t))}catch(t){console.error("Unable to synchCookiesAndLocalStorage for synchCookie item: ".concat(JSON.stringify(o)),t)}}try{(0<Object.keys(n).length||0<Object.keys(e).length)&&N("info","User storage Synced",{process:"storage-sync","cookie-sync":JSON.stringify(e),"ls-sync":JSON.stringify(n)})}catch(t){}}}(O())}C.name="classic";try{window.__uspapi=function(t,e,n){return at["v".concat(e)]&&"function"==typeof at["v".concat(e)][t]?n?void at["v".concat(e)][t].apply(null,[n]):at["v".concat(e)][t]:!!n&&void n(null,!1)}}catch(t){}if("function"==typeof Promise)try{st(),setTimeout(nt,0)}catch(t){}else document.addEventListener("pb-core-loaded",function(){try{st(),setTimeout(nt,0)}catch(t){}})}();
